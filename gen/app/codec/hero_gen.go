// Code generated by gen-api-client. DO NOT EDIT.

package codec

import (
	"strings"

	"github.com/go-pantheon/fabrica-util/errors"
	climsg "github.com/go-pantheon/roma/gen/api/client/message"
	cliseq "github.com/go-pantheon/roma/gen/api/client/sequence"
	"google.golang.org/protobuf/proto"
)

func UnmarshalCSHero(seq int32, data []byte) (p proto.Message, err error) {
	switch cliseq.HeroSeq(seq) {
	// Hero level upgrade
	case cliseq.HeroSeq_HeroLevelUpgrade:
		pp := &climsg.CSHeroLevelUpgrade{}
		err = proto.Unmarshal(data, pp)
		p = pp

	default:
		return nil, errors.Errorf("Unmarshal CSHero faild. seq not found. seq=%d", seq)
	}

	if err != nil {
		return nil, errors.Wrapf(err, "Unmarshal CSHero faild. seq=%d", seq)
	}

	return p, nil
}

func UnmarshalSCHero(seq int32, data []byte) (p proto.Message, err error) {
	switch cliseq.HeroSeq(seq) {
	// @push Hero unlock
	case cliseq.HeroSeq_PushHeroUnlock:
		pp := &climsg.SCPushHeroUnlock{}
		err = proto.Unmarshal(data, pp)
		p = pp
	// Hero level upgrade
	case cliseq.HeroSeq_HeroLevelUpgrade:
		pp := &climsg.SCHeroLevelUpgrade{}
		err = proto.Unmarshal(data, pp)
		p = pp
	default:
		return nil, errors.Errorf("Unmarshal SCHero faild. seq not found. seq=%d", seq)
	}

	if err != nil {
		return nil, errors.Wrapf(err, "Unmarshal SCHero faild. seq=%d", seq)
	}

	return p, nil
}

func IsPushSCHero(seq int32) bool {
	name := cliseq.HeroSeq_name[seq]
	return strings.Index(name, "Push_") == 0
}
