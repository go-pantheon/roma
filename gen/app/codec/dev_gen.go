// Code generated by gen-api-client. DO NOT EDIT.

package codec

import (
	"strings"

	"github.com/go-pantheon/fabrica-util/errors"
	climsg "github.com/go-pantheon/roma/gen/api/client/message"
	cliseq "github.com/go-pantheon/roma/gen/api/client/sequence"
	"google.golang.org/protobuf/proto"
)

func UnmarshalCSDev(seq int32, data []byte) (p proto.Message, err error) {
	switch cliseq.DevSeq(seq) {
	// Dev command list
	case cliseq.DevSeq_DevList:
		pp := &climsg.CSDevList{}
		err = proto.Unmarshal(data, pp)
		p = pp
	// Execute Dev command
	case cliseq.DevSeq_DevExecute:
		pp := &climsg.CSDevExecute{}
		err = proto.Unmarshal(data, pp)
		p = pp

	default:
		return nil, errors.Errorf("Unmarshal CSDev faild. seq not found. seq=%d", seq)
	}

	if err != nil {
		return nil, errors.Wrapf(err, "Unmarshal CSDev faild. seq=%d", seq)
	}

	return p, nil
}

func UnmarshalSCDev(seq int32, data []byte) (p proto.Message, err error) {
	switch cliseq.DevSeq(seq) {
	// Dev command list
	case cliseq.DevSeq_DevList:
		pp := &climsg.SCDevList{}
		err = proto.Unmarshal(data, pp)
		p = pp
	// Execute Dev command
	case cliseq.DevSeq_DevExecute:
		pp := &climsg.SCDevExecute{}
		err = proto.Unmarshal(data, pp)
		p = pp
	default:
		return nil, errors.Errorf("Unmarshal SCDev faild. seq not found. seq=%d", seq)
	}

	if err != nil {
		return nil, errors.Wrapf(err, "Unmarshal SCDev faild. seq=%d", seq)
	}

	return p, nil
}

func IsPushSCDev(seq int32) bool {
	name := cliseq.DevSeq_name[seq]
	return strings.Index(name, "Push") == 0
}
